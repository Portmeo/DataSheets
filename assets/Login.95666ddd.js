import{C as r,w as S,ai as h,r as d,aj as w,x,e as v,v as E,j as o}from"./index.f7340433.js";import{R as U,B as f}from"./requestHandler.service.8fd60bce.js";import{F as m,T as p}from"./TextField.3120d424.js";const y="https://apidatasheets-production.up.railway.app/api",N={login:s=>U.post(`${y}${r.REQUEST_ROUTES.LOGIN}`,{body:s})},O=()=>{const s=S(),e=h(),[i,a]=d.exports.useState(""),[l,c]=d.exports.useState("");return{userEmail:i,setUserEmail:a,userPassword:l,setUserPassword:c,login:async(t,g)=>{const n=await N.login({email:t,password:g});n&&(window.localStorage.setItem("token",JSON.stringify(n.access_token)),window.localStorage.setItem("user",JSON.stringify(n.user)),e(w.setUser(n.user)),s("/datasheet"))}}},b=()=>{const{t:s}=x(),{userEmail:e,setUserEmail:i,userPassword:a,setUserPassword:l,login:c}=O(),u=()=>{c(e,a)};return v(E,{sx:{mt:1,width:{xs:"100%",md:"100%",lg:"100%"}},display:"flex",flexDirection:"column",alignItems:"center",children:[o(m,{margin:"normal",children:o(p,{size:"small",label:s(r.USER),value:e,onChange:({target:t})=>i(t.value)})}),o(m,{margin:"normal",children:o(p,{type:"password",size:"small",label:s(r.PASSWORD),value:a,onChange:({target:t})=>l(t.value)})}),o(f,{disabled:!e||!a,sx:{mt:1},variant:"contained",onClick:u,children:s(r.LOGIN)})]})};export{b as Login};
