import{C as r,v as S,ah as h,r as d,ai as w,w as x,e as v,t as E,j as o}from"./index.94a47da9.js";import{R as U,B as f}from"./requestHandler.service.0d012add.js";import{F as m,T as p}from"./TextField.00c012f4.js";const y="https://apidatasheets-production.up.railway.app/api",N={login:s=>U.post(`${y}${r.REQUEST_ROUTES.LOGIN}`,{body:s})},O=()=>{const s=S(),e=h(),[i,t]=d.exports.useState(""),[l,c]=d.exports.useState("");return{userEmail:i,setUserEmail:t,userPassword:l,setUserPassword:c,login:async(a,g)=>{const n=await N.login({email:a,password:g});n&&(window.localStorage.setItem("token",JSON.stringify(n.access_token)),window.localStorage.setItem("user",JSON.stringify(n.user)),e(w.setUser(n.user)),s("/datasheet"))}}},b=()=>{const{t:s}=x(),{userEmail:e,setUserEmail:i,userPassword:t,setUserPassword:l,login:c}=O(),u=()=>{c(e,t)};return v(E,{sx:{mt:1,width:{xs:"100%",md:"100%",lg:"100%"}},display:"flex",flexDirection:"column",alignItems:"center",children:[o(m,{margin:"normal",children:o(p,{size:"small",label:s(r.USER),value:e,onChange:({target:a})=>i(a.value)})}),o(m,{margin:"normal",children:o(p,{type:"password",size:"small",label:s(r.PASSWORD),value:t,onChange:({target:a})=>l(a.value)})}),o(f,{disabled:!e||!t,sx:{mt:1},variant:"contained",onClick:u,children:s(r.LOGIN)})]})};export{b as Login};
