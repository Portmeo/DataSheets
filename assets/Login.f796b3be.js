import{C as r,w as p,ai as h,r as d,aj as x,x as w,e as v,v as E,j as o}from"./index.756cc2a8.js";import{R as U,B as f}from"./requestHandler.service.d566e017.js";import{F as u,T as g}from"./TextField.aba6f339.js";const N="https://api-datasheets.onrender.com/api",O={login:s=>U.post(`${N}${r.REQUEST_ROUTES.LOGIN}`,{body:s})},R=()=>{const s=p(),e=h(),[i,t]=d.exports.useState(""),[l,c]=d.exports.useState("");return{userEmail:i,setUserEmail:t,userPassword:l,setUserPassword:c,login:async(a,S)=>{const n=await O.login({email:a,password:S});n&&(window.localStorage.setItem("token",JSON.stringify(n.access_token)),window.localStorage.setItem("user",JSON.stringify(n.user)),e(x.setUser(n.user)),s("/datasheet"))}}},b=()=>{const{t:s}=w(),{userEmail:e,setUserEmail:i,userPassword:t,setUserPassword:l,login:c}=R(),m=()=>{c(e,t)};return v(E,{sx:{mt:1,width:{xs:"100%",md:"100%",lg:"100%"}},display:"flex",flexDirection:"column",alignItems:"center",children:[o(u,{margin:"normal",children:o(g,{size:"small",label:s(r.USER),value:e,onChange:({target:a})=>i(a.value)})}),o(u,{margin:"normal",children:o(g,{type:"password",size:"small",label:s(r.PASSWORD),value:t,onChange:({target:a})=>l(a.value)})}),o(f,{disabled:!e||!t,sx:{mt:1},variant:"contained",onClick:m,children:s(r.LOGIN)})]})};export{b as Login};
