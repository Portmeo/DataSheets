import{a6 as f,r as p,A as d,k as x,e as h,B as m,j as i,C as o,m as E}from"./index.e3c54621.js";import{C}from"./category.service.64bcd667.js";import{F as S,T}from"./TextField.5b5971ac.js";import"./requestHandler.service.751a06e3.js";import"./Menu.31726533.js";const v=()=>{const{id:t}=f(),[e,a]=p.exports.useState(),l=async s=>{const r=await C.get(s);r&&a(r)},u=async s=>{await C.create(s)&&(c(),a(void 0))},n=async s=>{await C.update(s)&&c()},c=()=>{d.proccesSuccess()};return p.exports.useEffect(()=>{t&&t!=="new"&&l(t)},[]),p.exports.useEffect(()=>()=>{d.reset()},[]),{category:e,setCategory:a,createCategory:u,updateCategory:n,id:t}},B=()=>{var s;const{t}=x(),{category:e,setCategory:a,createCategory:l,updateCategory:u,id:n}=v(),c=r=>y=>{const g={...e&&{...e},[r]:y.target.value};a(g)};return h(m,{children:[i(S,{fullWidth:!0,margin:"normal",children:i(T,{label:t(o.NAME),value:(s=e==null?void 0:e.name)!=null?s:"",onChange:c("name")})}),i(m,{display:"flex",justifyContent:"flex-end",children:i(E,{sx:{mt:1},variant:"contained",onClick:()=>n===o.NEW.toLowerCase()?l(e):u(e),children:n===o.NEW.toLowerCase()?t(o.CREATE):t(o.EDIT)})})]})};export{B as CategoryForm};
